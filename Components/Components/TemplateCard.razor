@using BlazorForms.Data.Models
@inject NavigationManager Nav

@if (Template is not null)
{
   <div class="card border-0 bg-light-theme" style="width: 200px">
      @if (Template.ImageUrl is not null)
      {
         <img src="@Template.ImageUrl" class="img-fluid rounded" alt="Banner" style="height: 150px; object-fit: cover; width: 100%" 
              @onclick="NavToTemplateEdit">
      }
      else
      {
         <div class="d-flex justify-content-center align-items-center border rounded image-container" style="height: 150px; object-fit: cover; width: 100%"  @onclick="NavToTemplateEdit">
            <div class="d-flex rounded-circle bg-light justify-content-center align-items-center" style="width: 50px; height: 50px">
               <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-image">
                  <rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
               </svg>
            </div>

         </div>
      }
      <div>
         <span class="badge text-bg-light fw-normal">@(Template.IsPublic ? "Active" : "Draft")</span>
      </div>
      <h3 class="card-title fw-medium fs-6 py-1 truncate-text text-primary-theme">@Template.Name</h3>
   </div>
}


@code {
   [Parameter] public Template? Template { get; set; }
   [Parameter] public bool? ShowAuthor { get; set; }
   

   private void NavToTemplateEdit()
   {
      if (Template is null) return;
      Nav.NavigateTo($"form/{Template.Id}/edit");
   }

}